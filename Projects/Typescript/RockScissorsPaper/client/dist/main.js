(()=>{"use strict";class t{static state={onClick:()=>{}};static setState=e=>{t.state={...t.state,...e}};constructor({$target:e,name:s}){this.state={$element:"",name:s,onClick:t=>{console.log(t)}},this.setState=t=>{this.state={...this.state,...t}},this.state.$element=Widget.element("button",{className:"PickingButton",innerText:this.state.name}).getEl(),e.appendChild(this.state.$element),this.render=()=>{var e=this;this.state.$element.onclick=()=>{t.state.onClick(e)}},this.render()}disabled(t){1==t?this.state.$element.setAttribute("disabled",!0):this.state.$element.removeAttribute("disabled")}}class e{constructor(t){this.storage={...t},this.front=0,this.rear=Object.keys(t).length}size(){return void 0===this.storage[rear]?0:this.rear-this.front+1}add(t){0===this.size()?this.storage[0]=t:this.storage[++this.rear]=t}popleft(){let t;return t=this.storage[this.front],delete this.storage[this.front],this.front!==this.rear?(this.front++,t):(this.front=0,this.rear=0,t)}getAll(){return Object.values(this.storage)}getNext(t){let e=Object.keys(this.storage);for(var s=0;s<e.length;s++){const a=e[s];if(this.storage[a]===t)break}const a=e[++s%3];return this.storage[a]}forEach(t){return Object.values(this.storage).forEach(t)}}class s{static state={items:[],btnStartElmn:void 0,computerCurrentData:void 0,timerId:void 0,startGame:t=>{var e=s.state.items.getNext(t);t===s.state.computerCurrentData?alert("비겼습니다"):e===s.state.computerCurrentData?alert("졌습니다"):alert("이겼습니다"),clearInterval(s.state.timerId),s.state.btnStartElmn.removeAttribute("disabled"),s.state.items.forEach((t=>t.disabled(!0)))}};static setState=t=>{s.state={...this.state,...t}};constructor(){}}new class{constructor({$target:a}){this.state={btnStartElmn:Widget.element("button",{id:"btnStart",innerText:"게임 시작"}).getEl(),divComputerDataElmn:Widget.element("div",{id:"computerData",innerText:"시작 버튼을 눌러주세요"}).getEl(),divPickingBtns:Widget.element("div",{id:"divPickingbtns"}).getEl(),computerCurrentData:void 0,timerId:null,items:new e({scissors:new t({$target:Widget.get("divPickingbtns").getEl(),name:"가위"}),rock:new t({$target:Widget.get("divPickingbtns").getEl(),name:"바위"}),paper:new t({$target:Widget.get("divPickingbtns").getEl(),name:"보"})})},s.setState({items:this.state.items,btnStartElmn:this.state.btnStartElmn}),t.setState({onClick:s.state.startGame}),this.setState=t=>{this.state={...this.state,...t},s.setState({computerCurrentData:this.state.computerCurrentData,timerId:this.state.timerId})},this.render=()=>{Widget.element("h1",{innerText:"가위바위보게임",parent:a}),a.appendChild(this.state.btnStartElmn),a.appendChild(this.state.divComputerDataElmn),a.appendChild(this.state.divPickingBtns),this.state.items.forEach((t=>t.disabled(!0))),this.state.btnStartElmn.onclick=()=>{this.state.btnStartElmn.setAttribute("disabled",!0),this.state.items.forEach((t=>t.disabled(!1))),this.setState({computerCurrentData:this.state.items.getAll()[0],timerId:setInterval((()=>{this.setState({computerCurrentData:this.state.items.getNext(this.state.computerCurrentData)}),this.state.divComputerDataElmn.textContent=this.state.computerCurrentData.state.name}),100)})}},this.render()}}({$target:document.querySelector(".App")})})();