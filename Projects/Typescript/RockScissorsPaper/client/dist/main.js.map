{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///./src/PickingButton.js","webpack:///./src/Queue.js","webpack:///./src/Game.js","webpack:///./src/index.js","webpack:///./src/App.js"],"sourcesContent":["export class PickingButton {\r\n  static state = {\r\n    onClick: () => { }\r\n  }\r\n  static setState = (nextState) => {\r\n    PickingButton.state = {\r\n      ...PickingButton.state,\r\n      ...nextState\r\n    };\r\n  }\r\n\r\n  constructor({\r\n    $target, name,\r\n  }) {\r\n    this.state = {\r\n      $element: '',\r\n      name: name,\r\n      onClick: (item) => {\r\n        console.log(item);\r\n      },\r\n    };\r\n\r\n    this.setState = (nextState) => {\r\n      this.state = {\r\n        ...this.state,\r\n        ...nextState\r\n      };\r\n    };\r\n\r\n    this.state.$element = Widget.element(\"button\", { className: \"PickingButton\", innerText: this.state.name }).getEl();\r\n    $target.appendChild(this.state.$element);\r\n\r\n    this.render = () => {\r\n      var _self = this;\r\n      this.state.$element.onclick = () => {\r\n        PickingButton.state.onClick(_self);\r\n      };\r\n    };\r\n    this.render();\r\n  }\r\n\r\n  disabled(value) {\r\n    value == true ?\r\n      this.state.$element.setAttribute('disabled', true) :\r\n      this.state.$element.removeAttribute('disabled');\r\n  }\r\n}","export class Queue {\r\n  constructor(items) {\r\n    this.storage = { ...items };\r\n    this.front = 0;\r\n    this.rear = Object.keys(items).length;\r\n  }\r\n\r\n  size() {\r\n    return (this.storage[rear] === undefined) ? 0 : (this.rear - this.front + 1);\r\n  }\r\n\r\n  add(value) {\r\n    this.size() === 0 ? this.storage['0'] = value : this.storage[++this.rear] = value;\r\n  }\r\n\r\n  popleft() {\r\n    let temp;\r\n    temp = this.storage[this.front];\r\n    delete this.storage[this.front];\r\n    if (this.front !== this.rear) {\r\n      this.front++;\r\n      return temp;\r\n    }\r\n    this.front = 0;\r\n    this.rear = 0;\r\n    return temp;\r\n  }\r\n\r\n  getAll() {\r\n    return Object.values(this.storage);\r\n  }\r\n\r\n  getNext(item) {\r\n    let keys = Object.keys(this.storage);\r\n    for (var i = 0; i < keys.length; i++) {\r\n      const key = keys[i]\r\n      if (this.storage[key] === item) break;\r\n    }\r\n    const key = keys[++i % 3];\r\n    return this.storage[key];\r\n  }\r\n\r\n  forEach(Callback) {\r\n    return Object.values(this.storage).forEach(Callback);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","export class Game {\r\n  static state = {\r\n    items: [],\r\n    btnStartElmn: undefined,\r\n    computerCurrentData: undefined,\r\n    timerId: undefined,\r\n    startGame: (item) => {\r\n      8\r\n      var next = Game.state.items.getNext(item);\r\n      if (item === Game.state.computerCurrentData) {\r\n        alert(\"비겼습니다\");\r\n      } else if (next === Game.state.computerCurrentData) {\r\n        alert(\"졌습니다\");\r\n      } else {\r\n        alert(\"이겼습니다\");\r\n      }\r\n      clearInterval(Game.state.timerId);\r\n\r\n      Game.state.btnStartElmn.removeAttribute('disabled');\r\n      Game.state.items.forEach(item => item.disabled(true));\r\n    }\r\n  }\r\n\r\n  static setState = (nextState) => {\r\n    Game.state = {\r\n      ...this.state,\r\n      ...nextState\r\n    };\r\n  }\r\n\r\n  constructor() {\r\n  }\r\n}","import App from './App.js';\r\n\r\nnew App({ $target: document.querySelector('.App') });","import { PickingButton } from \"./PickingButton.js\";\r\nimport { Queue } from \"./Queue.js\";\r\nimport { Game } from \"./Game.js\";\r\n\r\nexport default class App {\r\n  constructor({ $target }) {\r\n    this.state = {\r\n      btnStartElmn: Widget.element(\"button\", { id: \"btnStart\", innerText: \"게임 시작\" }).getEl(),\r\n      divComputerDataElmn: Widget.element(\"div\", { id: \"computerData\", innerText: \"시작 버튼을 눌러주세요\" }).getEl(),\r\n      divPickingBtns: Widget.element(\"div\", { id: \"divPickingbtns\" }).getEl(),\r\n      computerCurrentData: undefined,\r\n      timerId: null,\r\n      items: new Queue({\r\n        scissors: new PickingButton({\r\n          $target: Widget.get(\"divPickingbtns\").getEl(),\r\n          name: \"가위\",\r\n        }),\r\n        rock: new PickingButton({\r\n          $target: Widget.get(\"divPickingbtns\").getEl(),\r\n          name: \"바위\",\r\n        }),\r\n        paper: new PickingButton({\r\n          $target: Widget.get(\"divPickingbtns\").getEl(),\r\n          name: \"보\",\r\n        }),\r\n      }),\r\n    };\r\n\r\n    Game.setState({\r\n      items: this.state.items,\r\n      btnStartElmn: this.state.btnStartElmn,\r\n    })\r\n\r\n    PickingButton.setState({\r\n      onClick: Game.state.startGame,\r\n    });\r\n\r\n    this.setState = (nextState) => {\r\n      this.state = {\r\n        ...this.state,\r\n        ...nextState,\r\n      };\r\n      Game.setState({\r\n        computerCurrentData: this.state.computerCurrentData,\r\n        timerId: this.state.timerId,\r\n      })\r\n    };\r\n\r\n    this.render = () => {\r\n      Widget.element(\"h1\", { innerText: \"가위바위보게임\", parent: $target });\r\n      $target.appendChild(this.state.btnStartElmn);\r\n      $target.appendChild(this.state.divComputerDataElmn);\r\n      $target.appendChild(this.state.divPickingBtns);\r\n\r\n      this.state.items.forEach(item => item.disabled(true));\r\n\r\n      this.state.btnStartElmn.onclick = () => {\r\n        this.state.btnStartElmn.setAttribute('disabled', true);\r\n        this.state.items.forEach(item => item.disabled(false));\r\n\r\n        this.setState({\r\n          computerCurrentData: this.state.items.getAll()[0],\r\n          timerId: setInterval(() => {\r\n            this.setState({\r\n              computerCurrentData: this.state.items.getNext(this.state.computerCurrentData),\r\n            });\r\n            this.state.divComputerDataElmn.textContent = this.state.computerCurrentData.state.name;\r\n          }, 100),\r\n        });\r\n      };\r\n    }\r\n    this.render();\r\n  }\r\n}"],"names":["PickingButton","static","onClick","nextState","state","constructor","$target","name","this","$element","item","console","log","setState","Widget","element","className","innerText","getEl","appendChild","render","_self","onclick","disabled","value","setAttribute","removeAttribute","Queue","items","storage","front","rear","Object","keys","length","size","undefined","add","popleft","temp","getAll","values","getNext","i","key","forEach","Callback","Game","btnStartElmn","computerCurrentData","timerId","startGame","next","alert","clearInterval","id","divComputerDataElmn","divPickingBtns","scissors","get","rock","paper","parent","setInterval","textContent","document","querySelector"],"sourceRoot":""}