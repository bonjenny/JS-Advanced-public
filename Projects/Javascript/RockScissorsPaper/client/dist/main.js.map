{"version":3,"file":"main.js","mappings":"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","sources":["webpack:///./src/PickingButton.js","webpack:///./src/Queue.js","webpack:///./src/Game.js","webpack:///./src/index.js","webpack:///./src/App.js"],"sourcesContent":["export class PickingButton {\r\n  static state = {\r\n    onClick: () => { }\r\n  }\r\n  static setState = (nextState) => {\r\n    PickingButton.state = {\r\n      ...this.state,\r\n      ...nextState\r\n    };\r\n  }\r\n\r\n  constructor({\r\n    $target, name,\r\n  }) {\r\n    this.state = {\r\n      $element: '',\r\n      name: name,\r\n      onClick: (item) => {\r\n        console.log(item);\r\n      },\r\n    };\r\n\r\n    this.setState = (nextState) => {\r\n      this.state = {\r\n        ...this.state,\r\n        ...nextState\r\n      };\r\n    };\r\n\r\n    this.state.$element = document.createElement('button');\r\n    this.state.$element.className = 'PickingButton';\r\n    this.state.$element.textContent = this.state.name;\r\n    $target.appendChild(this.state.$element);\r\n\r\n    this.render = () => {\r\n      var _self = this;\r\n      this.state.$element.onclick = () => {\r\n        PickingButton.state.onClick(_self);\r\n      };\r\n    };\r\n    this.render();\r\n  }\r\n\r\n  disabled(value) {\r\n    value == true ?\r\n      this.state.$element.setAttribute('disabled', true) :\r\n      this.state.$element.removeAttribute('disabled');\r\n  }\r\n}","export class Queue {\r\n  constructor(items) {\r\n    this.storage = { ...items };\r\n    this.front = 0;\r\n    this.rear = Object.keys(items).length;\r\n  }\r\n\r\n  size() {\r\n    return (this.storage[rear] === undefined) ? 0 : (this.rear - this.front + 1);\r\n  }\r\n\r\n  add(value) {\r\n    this.size() === 0 ? this.storage['0'] = value : this.storage[++this.rear] = value;\r\n  }\r\n\r\n  popleft() {\r\n    let temp;\r\n    temp = this.storage[this.front];\r\n    delete this.storage[this.front];\r\n    if (this.front !== this.rear) {\r\n      this.front++;\r\n      return temp;\r\n    }\r\n    this.front = 0;\r\n    this.rear = 0;\r\n    return temp;\r\n  }\r\n\r\n  getAll() {\r\n    return Object.values(this.storage);\r\n  }\r\n\r\n  getNext(item) {\r\n    let keys = Object.keys(this.storage);\r\n    for (var i = 0; i < keys.length; i++) {\r\n      const key = keys[i]\r\n      if (this.storage[key] === item) break;\r\n    }\r\n    const key = keys[++i % 3];\r\n    return this.storage[key];\r\n  }\r\n\r\n  forEach(Callback) {\r\n    return Object.values(this.storage).forEach(Callback);\r\n  }\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","export class Game {\r\n  static state = {\r\n    items: [],\r\n    btnStartElmn: undefined,\r\n    computerCurrentData: undefined,\r\n    timerId: undefined,\r\n    startGame: (item) => {\r\n      8\r\n      var next = Game.state.items.getNext(item);\r\n      if (item === Game.state.computerCurrentData) {\r\n        alert(\"비겼습니다\");\r\n      } else if (next === Game.state.computerCurrentData) {\r\n        alert(\"졌습니다\");\r\n      } else {\r\n        alert(\"이겼습니다\");\r\n      }\r\n      clearInterval(Game.state.timerId);\r\n\r\n      Game.state.btnStartElmn.removeAttribute('disabled');\r\n      Game.state.items.forEach(item => item.disabled(true));\r\n    }\r\n  }\r\n\r\n  static setState = (nextState) => {\r\n    Game.state = {\r\n      ...this.state,\r\n      ...nextState\r\n    };\r\n  }\r\n\r\n  constructor() {\r\n  }\r\n}","import App from './App.js';\r\n\r\nnew App ({ $target: document.querySelector('.App')});","import { PickingButton } from \"./PickingButton.js\";\r\nimport { Queue } from \"./Queue.js\";\r\nimport { Game } from \"./Game.js\";\r\n\r\nexport default class App {\r\n  constructor({ $target }) {\r\n    this.state = {\r\n      btnStartElmn: document.getElementById(\"btnStart\"),\r\n      divComputerDataElmn: document.getElementById(\"computerData\"),\r\n      divPickingBtns: document.getElementById(\"divPickingBtns\"),\r\n      computerCurrentData: undefined,\r\n      timerId: null,\r\n      items: new Queue({\r\n        scissors: new PickingButton({\r\n          $target: divPickingBtns,\r\n          name: \"가위\",\r\n        }),\r\n        rock: new PickingButton({\r\n          $target: divPickingBtns,\r\n          name: \"바위\",\r\n        }),\r\n        paper: new PickingButton({\r\n          $target: divPickingBtns,\r\n          name: \"보\",\r\n        }),\r\n      }),\r\n    };\r\n\r\n    Game.setState({\r\n      items: this.state.items,\r\n      btnStartElmn: this.state.btnStartElmn,\r\n    })\r\n\r\n    PickingButton.setState({\r\n      onClick: Game.state.startGame,\r\n    });\r\n\r\n    this.setState = (nextState) => {\r\n      this.state = {\r\n        ...this.state,\r\n        ...nextState,\r\n      };\r\n      Game.setState({\r\n        computerCurrentData: this.state.computerCurrentData,\r\n        timerId: this.state.timerId,\r\n      })\r\n    };\r\n\r\n    this.render = () => {\r\n      this.state.items.forEach(item => item.disabled(true));\r\n\r\n      this.state.btnStartElmn.onclick = () => {\r\n        this.state.btnStartElmn.setAttribute('disabled', true);\r\n        this.state.items.forEach(item => item.disabled(false));\r\n\r\n        this.setState({\r\n          computerCurrentData: this.state.items.getAll()[0],\r\n          timerId: setInterval(() => {\r\n            this.setState({\r\n              computerCurrentData: this.state.items.getNext(this.state.computerCurrentData),\r\n            });\r\n            this.state.divComputerDataElmn.textContent = this.state.computerCurrentData.state.name;\r\n          }, 100),\r\n        });\r\n      };\r\n    }\r\n    this.render();\r\n  }\r\n}"],"names":["PickingButton","static","onClick","nextState","state","this","constructor","$target","name","$element","item","console","log","setState","document","createElement","className","textContent","appendChild","render","_self","onclick","disabled","value","setAttribute","removeAttribute","Queue","items","storage","front","rear","Object","keys","length","size","undefined","add","popleft","temp","getAll","values","getNext","i","key","forEach","Callback","Game","btnStartElmn","computerCurrentData","timerId","startGame","next","alert","clearInterval","getElementById","divComputerDataElmn","divPickingBtns","scissors","rock","paper","setInterval","querySelector"],"sourceRoot":""}